import{r,j as t}from"./index-37WBs3jL.js";const B="/assets/giraffe-CIK_BpIt.webp",D="/assets/hand3-ByekX3fQ.gif",F="/assets/hand1-B3Vpz-_L.gif",T="/assets/hand2-5PuhvGzn.gif",_="/assets/gir-B7egaq1T.otf",f="/assets/run-CnkGK-ma.webp",P="/assets/walk-BBaNU5ri.webp";function q(){const[p,w]=r.useState(new Date),[a,x]=r.useState({width:window.innerWidth,height:window.innerHeight});r.useEffect(()=>{const e=()=>{x({width:window.innerWidth,height:window.innerHeight})};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),r.useEffect(()=>{const e=document.createElement("style");return e.innerHTML=`
      @font-face {
        font-family: 'CustomClockFont';
        src: url(${_}) format('truetype');
        font-weight: normal;
        font-style: normal;
      }

      html, body, #root {
        margin: 0;
        padding: 0;
        height: 100%;
        overflow: hidden;
      }

      /* Critical mobile fix */
      body {
        height: 100dvh;
      }
    `,document.head.appendChild(e),()=>{document.head.contains(e)&&document.head.removeChild(e)}},[]),r.useEffect(()=>{let e;const n=()=>{w(new Date),e=requestAnimationFrame(n)};return e=requestAnimationFrame(n),()=>cancelAnimationFrame(e)},[]);const o=p,v=o.getHours()+o.getMinutes()/60+o.getSeconds()/3600+o.getMilliseconds()/36e5,y=o.getMinutes()+o.getSeconds()/60+o.getMilliseconds()/6e4,l=o.getSeconds()+o.getMilliseconds()/1e3,b=v*30,k=y*6,S=l*6,s=10,I=Math.min(a.width,a.height),d=s/100*I,j=Math.ceil(a.width/d)+3,$=Math.ceil(a.height/d)+6,h=e=>Array.from({length:j},(n,i)=>t.jsx("div",{style:{height:`${s}vmin`,width:`${s}vmin`,overflow:"hidden"},children:t.jsx("div",{style:{height:"100%",width:"100%",backgroundImage:`url(${f})`,backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat",transform:`rotate(${e}deg)`,transformOrigin:"center"}})},`row-${i}`)),g=e=>Array.from({length:$},(n,i)=>t.jsx("div",{style:{height:`${s}vmin`,width:`${s}vmin`,overflow:"hidden"},children:t.jsx("div",{style:{height:"100%",width:"100%",backgroundImage:`url(${f})`,backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat",transform:`rotate(${e}deg)`,transformOrigin:"center"}})},`col-${i}`)),z=Array.from({length:12},(e,n)=>n+1),C=e=>{const n=(e-3)*30*(Math.PI/180),i=42,H=i*Math.cos(n),R=i*Math.sin(n);return{position:"absolute",left:`calc(50% + ${H}%)`,top:`calc(50% + ${R}%)`,fontSize:"clamp(5rem, 8vw, 8.5rem)",fontFamily:"CustomClockFont",userSelect:"none",color:"white",textAlign:"center",transform:"translate(-50%, -50%)",textShadow:"1px 1px 0 #970909, -1px -1px 0 black",pointerEvents:"none",willChange:"transform"}},c=(e,n,i=null)=>({position:"absolute",width:`${n}%`,height:"auto",maxHeight:"90%",transform:`translate(-50%, -100%) rotate(${e}deg)`,transformOrigin:"50% 100%",top:"50%",left:"50%",transition:i?`transform ${i}s linear`:"none",zIndex:10,filter:"drop-shadow(2px 2px 4px rgba(0,0,0,0.9)) drop-shadow(-2px -2px 4px rgba(255,255,255,0.7))",opacity:.85,pointerEvents:"none",backfaceVisibility:"hidden",imageRendering:"crisp-edges"}),M={position:"absolute",top:"50%",left:"50%",width:"25vmin",height:"25vmin",transform:`translate(-50%, -50%) rotate(${-l*6}deg)`,transformOrigin:"50% 50%",zIndex:15,opacity:.75,pointerEvents:"none"},E={height:"100%",width:"100%",position:"fixed",top:0,left:0,backgroundImage:`url(${B})`,backgroundSize:"cover",backgroundPosition:"center",overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center",touchAction:"none",overscrollBehavior:"none"},A={width:"min(85vmin, 95vw)",height:"min(85vmin, 95vh)",borderRadius:"50%",position:"relative",zIndex:5,aspectRatio:"1/1"},m=e=>({position:"absolute",top:e==="top"?0:"auto",bottom:e==="bottom"?0:"auto",left:0,width:"100%",display:"flex",gap:0,zIndex:3}),u=e=>({position:"absolute",left:e==="left"?0:"auto",right:e==="right"?0:"auto",top:0,height:"100%",display:"flex",flexDirection:"column",gap:0,zIndex:3});return t.jsxs("div",{style:E,children:[t.jsx("div",{style:m("top"),children:h(180)}),t.jsx("div",{style:m("bottom"),children:h(0)}),t.jsx("div",{style:u("left"),children:g(90)}),t.jsx("div",{style:u("right"),children:g(270)}),t.jsxs("div",{style:A,children:[z.map(e=>t.jsx("div",{style:C(e),children:e},e)),t.jsx("img",{src:F,alt:"minute",style:c(k,25,60)}),t.jsx("img",{src:D,alt:"hour",style:c(b,28,43200)}),t.jsx("img",{src:T,alt:"second",style:c(S,26)}),t.jsx("img",{src:P,alt:"center",style:M})]})]})}export{q as default};
