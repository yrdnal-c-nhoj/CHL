import{r as l,j as e}from"./index-_Zh6IFgu.js";const x="/assets/esp-DtumYT1F.mp4",b="/assets/birds-CljTFC-f.webp",S="/assets/bird-MYL-Xw7h.ttf";function T(){const[r,v]=l.useState(""),[h,u]=l.useState([]),f=1e4,c=800,n=()=>{const t=new Date,o=new Date(t.getTime()-f),y=o.getHours(),g=o.getMinutes(),m=o.getSeconds();let p=y%12;p===0&&(p=12);const d=`${String(p).padStart(2,"0")}${String(g).padStart(2,"0")}${String(m).padStart(2,"0")}`;v(d)};l.useEffect(()=>{n();const t=setInterval(n,f);return()=>clearInterval(t)},[]),l.useEffect(()=>{if(!r)return;const t=r.split(""),o=t.length,y=o*c,g=f-y-o*c,m=t.map(d=>{const s=Math.random()>.5;return{char:d,enterFromRight:s,style:{display:"inline-block",opacity:0,transform:`translate(${s?"120vw":"-120vw"}, -25vh)`,transition:"transform 0.8s ease-out, opacity 0.8s ease-out"}}});u(m),m.forEach((d,s)=>{setTimeout(()=>{u(w=>{const i=[...w];return i[s].style={...i[s].style,opacity:1,transform:"translate(0, 0)"},i})},s*c)});const p=y+g;m.forEach((d,s)=>{setTimeout(()=>{u(w=>{const i=[...w];return i[s].style={...i[s].style,opacity:0,transform:`translate(${d.enterFromRight?"-120vw":"120vw"}, -25vh)`},i})},p+s*c)})},[r]);const a={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:10,color:"#8D6222FF",fontSize:"10vh",textAlign:"center",letterSpacing:"0.05em",textShadow:"1px 0 0 white",width:"100%",whiteSpace:"nowrap",overflow:"visible",fontFamily:'"CustomFont_20251128", sans-serif'};return e.jsxs(e.Fragment,{children:[e.jsx("style",{children:`
          @font-face {
            font-family: "CustomFont_20251128";
            src: url(${S}) format("woff2");
            font-weight: normal;
            font-style: normal;
          }
        `}),e.jsx("div",{style:a,"aria-live":"polite",children:h.map((t,o)=>e.jsx("span",{style:t.style,children:t.char},o))})]})}function j(){const[r,v]=l.useState(!1),h=l.useRef(null);l.useEffect(()=>{const n=h.current;if(!n)return;const a=()=>v(!0),t=()=>v(!1);return n.addEventListener("error",a),n.addEventListener("stalled",a),n.addEventListener("canplay",t),n.play?.().catch(a),()=>{n.removeEventListener("error",a),n.removeEventListener("stalled",a),n.removeEventListener("canplay",t)}},[]);const u={width:"100vw",height:"100dvh",position:"relative",overflow:"hidden",backgroundColor:"#000"},f={position:"absolute",inset:0,width:"100%",height:"100%",objectFit:"cover",zIndex:0},c={position:"absolute",inset:0,backgroundImage:`url(${b})`,backgroundSize:"cover",backgroundPosition:"center",display:r?"block":"none",zIndex:5};return e.jsxs("div",{style:u,role:"region","aria-label":"Background video and time",children:[e.jsx(T,{}),e.jsxs("video",{ref:h,style:f,loop:!0,muted:!0,playsInline:!0,autoPlay:!0,preload:"metadata",children:[e.jsx("source",{src:x,type:"video/mp4"}),e.jsx("source",{src:x,type:"video/webm"})]}),e.jsx("div",{style:c,"aria-hidden":!r,children:r&&e.jsx("span",{style:{display:"none"},children:"Fallback background image"})})]})}export{j as default};
