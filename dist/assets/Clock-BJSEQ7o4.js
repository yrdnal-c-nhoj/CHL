import{r as o,j as t}from"./index-DhGayC4d.js";const L="/assets/rose-ww6AdE3h.mp4",R="/assets/rose-D1ZigRnx.webp";function V(){const[n,v]=o.useState(new Date),[r,y]=o.useState(!1),[i,p]=o.useState(!1),l=o.useRef(null);o.useEffect(()=>{let e;const s=()=>{v(new Date),e=requestAnimationFrame(s)};return e=requestAnimationFrame(s),()=>cancelAnimationFrame(e)},[]),o.useEffect(()=>{const e=l.current;if(!e)return;const s=()=>y(!0),g=()=>p(!0);e.addEventListener("canplay",s),e.addEventListener("error",g),e.muted=!0,e.loop=!0,e.playsInline=!0;const f=e.play();return f?.catch&&f.catch(()=>{}),()=>{e.removeEventListener("canplay",s),e.removeEventListener("error",g)}},[]);const b=n.getMilliseconds(),c=n.getSeconds()+b/1e3,d=n.getMinutes()+c/60,x=n.getHours()%12+d/60,w=c*6,S=d*6,k=x*30,j={position:"relative",width:"100vw",height:"100dvh",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#0b1220",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale"},u={position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:0,display:"block",transition:"opacity 400ms ease, filter 1s ease"},h=`
    brightness(3.9)
    contrast(0.6)
    saturate(0.5)
    hue-rotate(-30deg)
   
  `,m="rotate(0.5deg) scale(1.02)",E={...u,opacity:r&&!i?1:0,filter:h,transform:m},F={...u,opacity:r&&!i?0:1,filter:h,transform:m},A={position:"relative",zIndex:2,width:"40vmin",height:"40vmin",pointerEvents:"none"},a={position:"absolute",bottom:"50%",left:"50%",transformOrigin:"50% 100%",borderRadius:"0.4vh",willChange:"transform",opacity:"0.3",background:"#E669DAFF",boxShadow:"0 0 2.4vh rgba(255,0,60,0.6)"},C={...a,width:"1.9vh",height:"12vmin",transform:`translate(-50%, 0) rotate(${k}deg)`},D={...a,width:"0.9vh",height:"28vmin",transform:`translate(-50%, 0) rotate(${S}deg)`},I={...a,width:"0.4vh",height:"44vmin",transform:`translate(-50%, 0) rotate(${w}deg)`};return t.jsxs("div",{style:j,"aria-label":"Analog clock with filtered video background",children:[t.jsx("video",{ref:l,style:E,src:L,playsInline:!0,muted:!0,loop:!0,preload:"auto","aria-hidden":!0}),t.jsx("img",{src:R,alt:"background fallback",style:F,"aria-hidden":!0}),t.jsxs("div",{style:A,children:[t.jsx("div",{style:C}),t.jsx("div",{style:D}),t.jsx("div",{style:I})]}),t.jsx("span",{style:{position:"absolute",left:-9999},children:n.toLocaleTimeString()})]})}export{V as default};
