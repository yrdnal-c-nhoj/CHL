import{r as e,j as o}from"./index-9yDBTM3Q.js";const M="/assets/tilt-BK8hDEek.mp4",$="/assets/tilt-OMyV24RE.webp",h="/assets/tilt-D68qVRwS.ttf";function H(){const l=e.useRef(null),[p,c]=e.useState(!1),[u,i]=e.useState(!1),[m,v]=e.useState(!1),[g,f]=e.useState({}),[n,y]=e.useState(new Date);e.useEffect(()=>{const t=setInterval(()=>y(new Date),25);return()=>clearInterval(t)},[]),e.useEffect(()=>{const t=document.createElement("link");return t.href=h,t.rel="preload",t.as="font",t.type="font/ttf",t.crossOrigin="anonymous",document.head.appendChild(t),()=>document.head.removeChild(t)},[]),e.useEffect(()=>{const t="RomanClockFont_2025_10_27",s=new FontFace(t,`url(${h}) format('truetype')`);s.load().then(()=>{document.fonts.add(s),i(!0)}).catch(()=>{console.warn("Font failed to load; using fallback."),i(!0)});const d=setTimeout(()=>i(!0),3e3);return()=>clearTimeout(d)},[]);const w=()=>{c(!0),a()},x=()=>v(!0),S=()=>c(!0),a=()=>{const t=l.current;if(!t)return;const s=window.innerWidth,d=window.innerHeight,_=t.videoWidth/t.videoHeight;s/d<_?f({position:"absolute",top:"50%",left:0,transform:"translateY(-50%)",height:"100dvh",width:"auto",objectFit:"cover",zIndex:0,filter:"saturate(1.5)"}):f({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",height:"100dvh",width:"auto",objectFit:"contain",zIndex:0,filter:"saturate(1.5)"})};e.useEffect(()=>(window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)),[]);const b=n.getHours().toString().padStart(2,"0"),j=n.getMinutes().toString().padStart(2,"0"),k=n.getSeconds().toString().padStart(2,"0"),F=Math.floor(n.getMilliseconds()/10).toString().padStart(2,"0"),E=`${b}.${j}.${k}.${F}`,r={fontFamily:u?"RomanClockFont_2025_10_27, 'Courier New', monospace":"'Courier New', monospace",fontWeight:700,color:"#D1D9D1FF",opacity:.9,mixBlendMode:"screen",userSelect:"none",whiteSpace:"nowrap"},I={position:"absolute",bottom:"5dvh",left:"50%",transform:`translateX(-50%) scale(${typeof window<"u"&&window.innerWidth<600?.7:1})`,zIndex:5,display:"flex",flexDirection:"column",alignItems:"center",gap:"1dvh",padding:"1.5dvh 3dvh",borderRadius:"0.8dvh",animation:"flicker 3s infinite, fadeIn 1.5s ease-out"},C={...r,fontSize:"7dvh",letterSpacing:"0.9dvh",textAlign:"center"},R={display:"flex",justifyContent:"space-between",width:"100%"},L={...r,fontSize:"7dvh",textAlign:"center",flex:1},z={...r,fontSize:"7dvh",textAlign:"right",flex:1},D=`
    @keyframes flicker {
      0%, 18%, 20%, 22%, 25%, 53%, 57%, 100% { opacity: 0.9; }
      19%, 21%, 24%, 54%, 56% { opacity: 1; }
    }
  `,A=`
    @keyframes fadeIn {
      0% { opacity: 0; }
      100% { opacity: 1; }
    }
  `,V={position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundImage:"repeating-linear-gradient(to bottom, rgba(0,0,0,0.2) 0, rgba(0,0,0,0.2) 1px, transparent 2px)",pointerEvents:"none",zIndex:2};return o.jsxs("div",{style:{height:"100dvh",width:"100dvw",overflow:"hidden",position:"relative",backgroundColor:"#000"},children:[o.jsx("style",{children:D+A}),m?o.jsx("img",{src:$,alt:"",onLoad:S,style:{position:"absolute",top:"50%",left:0,transform:"translateY(-50%)",height:"100dvh",width:"auto",objectFit:"cover",zIndex:0}}):o.jsx("video",{ref:l,src:M,muted:!0,autoPlay:!0,loop:!0,playsInline:!0,onLoadedData:w,onError:x,style:g}),o.jsx("div",{style:V}),p&&u&&o.jsxs("div",{style:I,children:[o.jsxs("div",{style:C,children:["TCR ",E]}),o.jsxs("div",{style:R,children:[o.jsx("div",{style:L,children:"REC"}),o.jsx("div",{style:z,children:"LOCK"})]})]})]})}export{H as default};
