import{r,j as o}from"./index-CacFjmHR.js";const x="/assets/unix-optimized-CfP4P780.mp4",F="/assets/unix-BgZMD8z4.webp",w="/assets/unix-DxsRjxIL.otf",v="/assets/unix2-BsSh_sX4.otf",b="/assets/un-DOWhPnJt.otf",E="/assets/uunix-BqeWck5_.ttf",d=new Date().toISOString().slice(0,10).replace(/-/g,"_"),S=()=>{const[s,u]=r.useState(!1),[j,I]=r.useState(""),[m,i]=r.useState(!1),[a,T]=r.useState(window.innerHeight),h=r.useRef(null),f=`FontOne-${d}`,p=`FontTwo-${d}`,g=`FontThree-${d}`,y=`FontFour-${d}`,l=(e,t)=>new FontFace(t,`url(${e}) format('truetype')`).load().then(n=>document.fonts.add(n)).catch(()=>console.error(`Failed to load font: ${t}`)),k=e=>new Promise(t=>{const n=document.createElement("video");n.src=e,n.oncanplaythrough=()=>{console.log("Video preloaded successfully"),t()},n.onerror=()=>{console.error("Video preload failed"),t()}});if(r.useEffect(()=>{const e=document.createElement("style");return e.textContent=`
      @font-face {
        font-family: '${f}';
        src: url(${w}) format('truetype');
        font-display: swap;
      }
      @font-face {
        font-family: '${p}';
        src: url(${v}) format('truetype');
        font-display: swap;
      }
      @font-face {
        font-family: '${g}';
        src: url(${b}) format('truetype');
        font-display: swap;
      }
      @font-face {
        font-family: '${y}';
        src: url(${E}) format('truetype');
        font-display: swap;
      }
    `,document.head.appendChild(e),(async()=>{const n=setTimeout(()=>{console.log("Resource loading timeout reached, setting ready"),u(!0)},3e3);try{console.log("Starting resource loading"),await l(w,f),await l(v,p),await l(b,g),await l(E,y),await k(x),console.log("All resources loaded successfully"),u(!0)}catch(c){console.error("Resource loading error:",c),u(!0)}finally{clearTimeout(n)}})(),()=>{console.log("Cleaning up style element"),document.head.removeChild(e)}},[]),r.useEffect(()=>{const e=()=>{console.log("Window resized, updating height"),T(window.innerHeight)};return window.addEventListener("resize",e),()=>{console.log("Removing resize event listener"),window.removeEventListener("resize",e)}},[]),r.useEffect(()=>{if(!s)return;const e=()=>{console.log("Updating timestamp"),I(Math.floor(Date.now()/1e3).toString())};return e(),h.current=setInterval(e,1e3),()=>{console.log("Clearing timestamp interval"),clearInterval(h.current)}},[s]),r.useEffect(()=>{if(!s)return;const e=document.getElementById("bg-video");if(!e){console.error("Video element not found"),i(!0);return}e.muted=!0,e.playsInline=!0;const t=()=>{console.log("Attempting video playback"),e.play().catch(z=>{console.error("Video playback failed:",z),i(!0)})};t();const n=setTimeout(()=>{e.paused&&(console.error("Video is paused after timeout"),i(!0))},500);e.onerror=()=>{console.error("Video error:",e.error),i(!0)},e.onabort=()=>{console.error("Video aborted"),i(!0)},e.onstalled=()=>{console.error("Video stalled"),i(!0)};const c=()=>{e.paused&&!m&&(console.log("User interaction detected, retrying video playback"),t())};return window.addEventListener("touchstart",c,{once:!0}),()=>{console.log("Cleaning up video effect"),clearTimeout(n),window.removeEventListener("touchstart",c)}},[s,m]),!s)return o.jsx("div",{style:{width:"100vw",height:`${a}px`,backgroundColor:"black"}});const $=((Date.now()-new Date("1970-01-01T00:00:00Z").getTime())/(1e3*60*60*24*365.25)).toFixed(1);return o.jsxs("div",{style:{width:"100vw",height:`${a}px`,fontFamily:f,display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",textAlign:"center",padding:"0.2rem 0",position:"relative",overflow:"hidden"},children:[m?o.jsx("img",{style:{position:"absolute",top:0,left:0,width:"100%",height:`${a}px`,objectFit:"cover",zIndex:0,pointerEvents:"none"},src:F,alt:"Background fallback",onError:()=>console.error("Fallback image failed to load")}):o.jsx("video",{id:"bg-video",style:{position:"absolute",top:0,left:0,width:"100%",height:`${a}px`,objectFit:"cover",zIndex:0,pointerEvents:"none"},autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:"auto",src:x,poster:F}),o.jsxs("div",{style:{zIndex:10,display:"flex",flexDirection:"column",alignItems:"center"},children:[o.jsx("div",{style:{fontSize:"0.8rem",color:"#7E7979FF",maxWidth:"20rem",marginBottom:"0.5rem",lineHeight:"0.9"},children:"On January 1st, 1970, at precisely 00:00:00 UTC, the digital universe began counting at zero seconds. That moment became the foundation of time itself in computing. The UNIX Epoch was underway."}),o.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"0.3rem",zIndex:10},children:j.split("").map((e,t)=>o.jsx("div",{style:{width:"1.1rem",height:"3rem",display:"flex",justifyContent:"center",alignItems:"center",fontFamily:p,fontSize:"2rem",color:"#FF6F00",textShadow:"2px 2px 0 #FFD54F, 4px 4px 0 #321F05FF, 6px 6px 0 #EB5122FF"},children:e},t))}),o.jsx("div",{style:{fontSize:"1.3rem",fontFamily:y,color:"#61A0FFFF",background:"linear-gradient(90deg, #0572EFFF, #BF9A07FF, #720524FF)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",letterSpacing:"-0.1rem",marginTop:"0.01rem",display:"inline-block"},children:"seconds since the dawn of digital time"})]}),o.jsx("div",{style:{zIndex:10,display:"flex",flexDirection:"column",alignItems:"center",fontFamily:g,backgroundColor:"rgba(255, 255, 255, 0.5)",padding:"0.2rem 0.2rem",borderRadius:"0.5rem",letterSpacing:"0.05rem",marginBottom:"0.5rem"},children:o.jsxs("div",{style:{fontSize:"2.3rem",color:"#560367FF"},children:["Celebrating ",$," Years!"]})})]})};export{S as default};
