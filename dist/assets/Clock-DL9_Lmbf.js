import{r as a,j as n}from"./index-37WBs3jL.js";const D="/assets/mids-DXTDZBX5.mp4",h="/assets/midsun-DEvIDPtU.webp",v="/assets/mi-DDNbvriX.otf";function R(){const[c,x]=a.useState(!1),[i,S]=a.useState(!1),[b,u]=a.useState(!1),[l,w]=a.useState(new Date),f=a.useRef(null);a.useEffect(()=>{const t=setInterval(()=>w(new Date),10);return()=>clearInterval(t)},[]),a.useEffect(()=>{let t=!1,s=!1,r=!1;const e=()=>{(r||i)&&s&&t&&setTimeout(()=>x(!0),100)},m=new FontFace("CustomFont",`url(${v})`);m.load().then(()=>{document.fonts.add(m),t=!0,e()}).catch(()=>{t=!0,e()});const p=new Image;p.src=h,p.onload=()=>{s=!0,e()},p.onerror=()=>{s=!0,e()};const o=f.current;if(o){const g=()=>{r=!0,e()},d=()=>{S(!0),u(!0),r=!1,e()};o.addEventListener("loadeddata",g),o.addEventListener("error",d),o.addEventListener("stalled",d);const y=o.play?.();return y&&y.catch(()=>u(!0)),()=>{o.removeEventListener("loadeddata",g),o.removeEventListener("error",d),o.removeEventListener("stalled",d)}}},[i]);const F=()=>{const t=f.current;t&&t.play().then(()=>u(!1)).catch(()=>console.error("Manual play failed"))},k=(()=>{const t=String(l.getHours()).padStart(2,"0"),s=String(l.getMinutes()).padStart(2,"0"),r=String(l.getSeconds()).padStart(2,"0"),e=String(Math.floor(l.getMilliseconds()/10)).padStart(2,"0");return t+s+r+e})().split(""),E={width:"100vw",height:"100dvh",position:"relative",overflow:"hidden",backgroundColor:"#000",display:"flex",justifyContent:"center",alignItems:"center",transition:"opacity 0.4s ease-in-out",opacity:c?1:0},j={position:"absolute",inset:0,width:"100%",height:"100%",objectFit:"cover",zIndex:0,display:i?"none":"block",pointerEvents:"none",filter:"brightness(1.1) contrast(0.8) hue-rotate(15deg) saturate(1.2)"},I={position:"absolute",inset:0,backgroundImage:`url(${h})`,backgroundSize:"cover",backgroundPosition:"center",display:i?"block":"none",filter:"brightness(1.3) contrast(1.4) hue-rotate(-10deg) saturate(1.2)"},C={display:"grid",gridTemplateColumns:"repeat(8, 1fr)",width:"98vw",transform:"rotate(180deg) translateY(3vh)",zIndex:2,fontFamily:"CustomFont, Arial, sans-serif",fontSize:"24vw",color:"#e6f2ff",userSelect:"none",textAlign:"center",textShadow:`
      1px 1px 0 #0A4FB8FF,
      -1px 0px 7px rgba(0, 50, 100, 0.8)
    `,WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale"},L={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:3,padding:"10px 20px",fontSize:"1rem",cursor:"pointer",backgroundColor:"rgba(0, 30, 60, 0.8)",color:"#e6f2ff",border:"1px solid rgba(100, 180, 255, 0.5)",borderRadius:"5px",textShadow:"0 0 4px rgba(100, 180, 255, 0.5)"};return n.jsxs("div",{style:E,children:[n.jsx("style",{children:`
        @font-face {
          font-family: 'CustomFont';
          src: url(${v}) format('opentype');
          font-weight: normal;
          font-style: normal;
          font-display: swap;
        }
      `}),n.jsx("video",{ref:f,style:j,loop:!0,muted:!0,playsInline:!0,autoPlay:!0,preload:"auto",children:n.jsx("source",{src:D,type:"video/mp4"})}),n.jsx("div",{style:I,"aria-hidden":!0}),b&&c&&n.jsx("button",{style:L,onClick:F,children:"Play Video"}),c&&n.jsx("div",{style:C,children:k.map((t,s)=>n.jsx("span",{children:t},s))})]})}export{R as default};
