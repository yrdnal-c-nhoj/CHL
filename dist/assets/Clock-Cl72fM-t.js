import{r as t,j as o}from"./index-BG825qbX.js";const R="/assets/roma-DGsxiejm.webp",$="/assets/ro-DnG720_A.mp4",S="/assets/roma-DNOOh_Ll.ttf";function L(){const[i,x]=t.useState(new Date),[j,d]=t.useState(!1),[r,u]=t.useState(!1),[a,f]=t.useState(!1),[n,F]=t.useState(window.innerWidth<768),[E,p]=t.useState(!0),m=t.useRef(null);t.useEffect(()=>{new FontFace("ProcessingFontScoped",`url(${S})`).load().then(s=>{document.fonts.add(s),d(!0)}).catch(()=>d(!0))},[]),t.useEffect(()=>{const e=setInterval(()=>x(new Date),100);return()=>clearInterval(e)},[]),t.useEffect(()=>{const e=()=>F(window.innerWidth<768);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),t.useEffect(()=>{const e=m.current;if(!e)return;const s=e.play();s!==void 0&&s.then(()=>u(!0)).catch(()=>f(!0))},[a]),t.useEffect(()=>{let e;const s=()=>{e=setTimeout(()=>{p(!1),setTimeout(()=>{p(!0),s()},100)},22e3)};return s(),()=>clearTimeout(e)},[]);const h=i.getHours(),z=h%12||12,I=h>=12?"PM":"AM",c=e=>String(e).padStart(2,"0"),l=[...c(z),...c(i.getMinutes()),...c(i.getSeconds()),...I],g=n?2:l.length,y=n?Math.ceil(l.length/2):1,v=n?100/y:100/g,M=n?`${v}dvh`:`${v}vw`,w="processing-clock",P={position:"relative",width:"100vw",height:"100dvh",overflow:"hidden",backgroundColor:"#000",margin:0,padding:0,opacity:j&&E?1:0,transition:"opacity 1s ease"},b={position:"absolute",inset:0,width:"100%",height:"100%",objectFit:"cover",filter:"brightness(1.2) contrast(1.3) saturate(1.1)",zIndex:0,transition:"opacity 1s ease"},T={position:"absolute",inset:0,display:"grid",gridTemplateColumns:`repeat(${g}, 1fr)`,gridTemplateRows:`repeat(${y}, 1fr)`,zIndex:1,mixBlendMode:"difference"},C={display:"flex",justifyContent:"center",alignItems:"center",fontFamily:"ProcessingFontScoped, monospace",fontSize:M,color:"white",lineHeight:1,userSelect:"none"};return o.jsxs("div",{className:w,style:P,children:[o.jsx("style",{children:`
        @font-face {
          font-family: 'ProcessingFontScoped';
          src: url(${S}) format('truetype');
          font-display: swap;
        }
        .${w} * {
          box-sizing: border-box;
        }
      `}),!a&&o.jsx("video",{ref:m,src:$,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:"auto",onCanPlayThrough:()=>u(!0),onError:()=>f(!0),style:{...b,opacity:r?1:0}}),(!r||a)&&o.jsx("img",{src:R,alt:"background",style:{...b,opacity:r?0:1}}),o.jsx("div",{style:T,children:l.map((e,s)=>o.jsx("div",{style:C,children:e},s))})]})}export{L as default};
