import{r as s,j as t}from"./index-Bgm5-oK8.js";const k="/assets/deex-BXLMIIqG.mp4",E="/assets/deex-DrrYi5KP.gif",z="/assets/disney-B2y_Feq_.ttf";function D(){const[d,c]=s.useState(!1),[r,w]=s.useState(new Date),[o,S]=s.useState(window.innerWidth<=768),[j,u]=s.useState(!1),f=s.useRef(null);s.useEffect(()=>{console.log("Starting font load for CustomFontmmm"),new FontFace("CustomFontmmm",`url(${z})`).load().then(n=>(console.log("Font loaded successfully"),document.fonts.add(n),document.fonts.ready)).then(()=>{console.log("Font ready, setting isReady to true"),u(!0)}).catch(n=>{console.warn("Custom font failed to load:",n.message),u(!0)})},[]),s.useEffect(()=>{console.log("Starting time update interval");const e=setInterval(()=>{const n=new Date;w(n),console.log("Time updated:",n.toLocaleTimeString())},16);return()=>{console.log("Clearing time update interval"),clearInterval(e)}},[]),s.useEffect(()=>{const e=f.current;return e&&(console.log("Attaching video event handlers"),e.oncanplay=()=>console.log("Video can play at",new Date().toLocaleTimeString()),e.onplay=()=>console.log("Video is playing at",new Date().toLocaleTimeString()),e.onerror=()=>{console.error("Video error:",e.error?.message||"Unknown error"),c(!0)},e.onabort=()=>{console.warn("Video aborted"),c(!0)},e.onstalled=()=>{console.warn("Video stalled"),c(!0)}),console.log("videoFailed state:",d),()=>{e&&(console.log("Cleaning up video event handlers"),e.oncanplay=null,e.onplay=null,e.onerror=null,e.onabort=null,e.onstalled=null)}},[d]),s.useEffect(()=>{const e=()=>{const n=window.innerWidth<=768;console.log("Window resized, isPhone:",n),S(n)};return window.addEventListener("resize",e),console.log("Initial isPhone state:",o),()=>{console.log("Removing resize event listener"),window.removeEventListener("resize",e)}},[o]),s.useEffect(()=>{console.log("Injecting sparkle keyframes");const e=document.createElement("style");return e.id="sparkle-styles",e.innerHTML=`
      @keyframes sparkle {
        0% { color: #42210B; }
        25% { color: #8B4513; }
        50% { color: #D4AF37; }
        75% { color: #C28840; }
        100% { color: #42210B; }
      }
    `,document.head.appendChild(e),()=>{console.log("Removing sparkle keyframes"),document.head.removeChild(e)}},[]);const a=(e,n=2)=>String(e).padStart(n,"0"),g=a(r.getHours()%12||12),y=a(r.getMinutes()),h=a(r.getSeconds()),v=a(Math.floor(r.getMilliseconds()/10),2),p=r.getHours()>=12?"PM":"AM",F={height:"100dvh",width:"100vw",position:"relative",overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center",fontFamily:"'CustomFontmmm', sans-serif",visibility:j?"visible":"hidden"},x={position:"absolute",top:0,left:0,width:"100vw",height:"100dvh",objectFit:"cover",zIndex:0,pointerEvents:"none"},C={position:"relative",zIndex:1,display:"flex",flexDirection:o?"column":"row",alignItems:"center",justifyContent:"center",gap:o?"0.5rem":"1rem",fontSize:o?"2.5rem":"4rem",textAlign:"center"},i={display:"flex",flexDirection:"row"},m={width:o?"2.5rem":"3.2rem",height:o?"3rem":"3.8rem",minWidth:o?"2.5rem":"3.2rem",display:"flex",justifyContent:"center",alignItems:"center",fontFamily:"'CustomFontmmm', sans-serif",fontSize:o?"3.8rem":"5.5rem",lineHeight:1,textAlign:"center",animation:"sparkle 3.5s infinite linear",textShadow:"0 0 0.3rem #42210B, 0 0 0.6rem #8B4513, 0 0 1rem #D4AF37, 0 0 1.5rem #C28840"},I={...m,width:o?"4rem":"6rem",minWidth:o?"4rem":"6rem",fontSize:o?"1.5rem":"3rem"},l=s.useCallback(e=>(console.log("Rendering boxes for:",e),e.split("").map((n,b)=>t.jsx("div",{style:m,children:n},b))),[m]);return t.jsxs("div",{style:F,children:[d?t.jsx("img",{style:x,src:E,alt:"Background fallback"}):t.jsx("video",{ref:f,id:"bg-video",style:x,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:"metadata",src:k,type:"video/mp4"}),t.jsx("div",{style:C,children:o?t.jsxs(t.Fragment,{children:[t.jsx("div",{style:i,children:l(g)}),t.jsx("div",{style:i,children:l(y)}),t.jsx("div",{style:i,children:l(h)}),t.jsx("div",{style:i,children:l(v)}),t.jsx("div",{style:i,children:l(p)})]}):t.jsxs("div",{style:i,children:[l(g),l(y),l(h),l(v),t.jsx("div",{style:I,children:p})]})})]})}export{D as default};
