import{r,j as f}from"./index-DuxRGnoV.js";import{S as U,P as J,W as K,n as N,o as Q,D as I,a as j,E as X,b as P,c as T,G as Y,M as Z,V as t,p as _,A as ee,q as te,C as ne,r as oe}from"./three.module-BRh6vk9y.js";const se="/assets/air-u6S5F9x8.ttf",W="/assets/air-D2EdCrls.webp",le=()=>{const w=r.useRef(null),p=r.useRef(null),g=r.useRef(null),[b,D]=r.useState(!1),[S,G]=r.useState(!1),[v,A]=r.useState(!1);return r.useEffect(()=>{new FontFace("Orbitron20251012",`url(${se})`).load().then(d=>{document.fonts.add(d),G(!0)})},[]),r.useEffect(()=>{const a=new Image;a.src=W,a.onload=()=>A(!0)},[]),r.useEffect(()=>{if(!w.current||!S||!v)return;const a=new U,d=new J(75,window.innerWidth/window.innerHeight,.1,1e3);d.position.z=7;const i=new K({antialias:!0,alpha:!0});i.setSize(window.innerWidth,window.innerHeight),i.setPixelRatio(window.devicePixelRatio),w.current.appendChild(i.domElement);const x=new N(2,0),H=new Q({color:2052015,transparent:!0,opacity:.3,roughness:.3,metalness:.8,side:I,emissive:1053343,emissiveIntensity:.9}),m=new j(x,H);a.add(m);const y=new X(x),q=new P({color:16748559}),B=new T(y,q),c=new Y;c.add(B),[15855871,11141120,3145477].forEach((s,e)=>{const l=new P({color:s,transparent:!0,opacity:.95-e*.8}),h=new T(y,l),u=1+(e+1)*.015;h.scale.set(u,u,u),c.add(h)}),a.add(c);const C=(()=>{const s=document.createElement("canvas");s.width=512,s.height=512;const e=s.getContext("2d"),l=()=>{e.clearRect(0,0,512,512);const u=new Date,$=u.getHours(),V=String(u.getMinutes()).padStart(2,"0"),F=`${$}${V}`;e.font="280px 'Orbitron20251012', monospace",e.textAlign="center",e.textBaseline="middle",e.lineWidth=3,e.strokeStyle="black",e.strokeText(F,256,256),e.fillStyle="#E8CB0DFF",e.fillText(F,256,256)};l();const h=new ne(s);return setInterval(()=>{l(),h.needsUpdate=!0},1e3),h})(),E=new Z({map:C,side:I,transparent:!0}),k=(1+Math.sqrt(5))/2,M=1/Math.sqrt(3),n=M/k,o=M*k;[new t(o,0,n),new t(-o,0,-n),new t(-n,o,0),new t(-n,-o,0),new t(0,-n,o),new t(0,n,-o),new t(n,o,0),new t(n,-o,0),new t(0,n,o),new t(0,-n,-o),new t(o,0,-n),new t(-o,0,n)].forEach(s=>{const e=new j(new _(1.2,1.2),E),l=s.clone().multiplyScalar(2);e.position.copy(l),e.lookAt(new t(0,0,0)),c.add(e)}),a.add(new ee(16777215,.9));const R=new te(6728447,.8);R.position.set(5,5,5),a.add(R),p.current&&(p.current.style.filter=`
        brightness(1.8)
        contrast(0.8)
        saturate(0.6)
        hue-rotate(200deg)
      `,p.current.style.opacity="1",p.current.style.transition="opacity 1.2s ease");const O=new oe,z=()=>{g.current=requestAnimationFrame(z);const s=O.getElapsedTime();c.rotation.x+=.007,c.rotation.y+=.009,m.rotation.x+=.007,m.rotation.y+=.009,c.position.z=Math.sin(s*.4)*9,m.position.z=Math.sin(s*.4)*9,i.render(a,d)};z();const L=()=>{d.aspect=window.innerWidth/window.innerHeight,d.updateProjectionMatrix(),i.setSize(window.innerWidth,window.innerHeight)};return window.addEventListener("resize",L),D(!0),()=>{window.removeEventListener("resize",L),g.current&&cancelAnimationFrame(g.current),i.dispose(),x.dispose(),y.dispose(),C.dispose(),E.dispose(),w.current&&i.domElement&&w.current.removeChild(i.domElement)}},[S,v]),f.jsxs("div",{style:{width:"100vw",height:"100vh",overflow:"hidden",position:"fixed",top:0,left:0,backgroundColor:"#000"},children:[!b&&f.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"#000",display:"flex",alignItems:"center",justifyContent:"center",color:"#888",fontFamily:"monospace",fontSize:"1.2rem",zIndex:5},children:"Loading clock..."}),f.jsx("div",{ref:p,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundImage:`url(${W})`,backgroundSize:"100% 100%",backgroundRepeat:"no-repeat",backgroundPosition:"center center",opacity:"0",transition:"opacity 1.2s ease",zIndex:0}}),f.jsx("div",{ref:w,style:{opacity:b?1:0,transition:"opacity 1s ease",position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:1}})]})};export{le as default};
