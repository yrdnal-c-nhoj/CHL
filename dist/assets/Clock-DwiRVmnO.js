import{r as a,j as s}from"./index-D5DjY_nl.js";const O="/assets/target-CWJz6C3h.gif",P="/assets/arrows-BxiFyf6b.gif",_="/assets/ar-CWPiAtzH.gif",N="/assets/bul-C0ZRr6im.gif",x="/assets/targ-DwnzWroj.otf",K="/assets/aro-xSck2Qdd.gif",X="/assets/arrr-BnR3p8sP.gif",Y="/assets/ar9-D_tY7Ixp.gif",g="ClockFont__Scoped_7t3";function G({sizeVmin:n=60,letters:p="EPHiCUGLjgKp",showSecondHand:b=!0}){const[c,w]=a.useState(new Date),[f,$]=a.useState({layer1:0,layer2:0}),[j,m]=a.useState(!1);a.useEffect(()=>{const t=setInterval(()=>w(new Date),1e3);return()=>clearInterval(t)},[]),a.useEffect(()=>{const t=new FontFace(g,`url(${x})`,{style:"normal",weight:"700"});document.fonts.add(t),t.load().then(()=>m(!0)).catch(e=>{console.warn("Font load failed:",e),m(!0)})},[]),a.useEffect(()=>{let t;const e=()=>{$(o=>({layer1:o.layer1+.1,layer2:o.layer2+.06,layer3:o.layer1+.1})),t=requestAnimationFrame(e)};return t=requestAnimationFrame(e),()=>cancelAnimationFrame(t)},[]);const{hourDeg:I,minDeg:k,secDeg:S}=a.useMemo(()=>{const t=c.getHours()%12,e=c.getMinutes(),o=c.getSeconds(),i=c.getMilliseconds(),r=o+i/1e3,d=e+r/60;return{hourDeg:(t+d/60)*30,minDeg:d*6,secDeg:r*6}},[c]),v=a.useMemo(()=>{const t=(p||"").toString();return t.length>=12?t.slice(0,12).split(""):(t+"ABCDEFGHIJKL").slice(0,12).split("")},[p]),E={position:"relative",width:"100vw",height:"100dvh",background:"#ffffff"},C={position:"absolute",top:"50%",left:"50%",width:"200vmax",height:"200vmax",transform:"translate(-50%, -50%)",background:`
      radial-gradient(
        circle at center,
        #DCEF07FF 0%, #CB4B4BFF 10%, /* Black bullseye */
        #ff0000 10%, #ff0000 20%, /* Red ring */
        #1E5FECFF 20%, #105EF0FF 30%, /* White ring */
        #EDD30FFF 30%, #FAEE09FF 40%, /* Black ring */
        #ff0000 40%, #ff0000 50%, /* Red ring */
        #1E4CF1FF 50%, #0C52C3FF 60%, /* White ring */
        #F6E710FF 60%, #F4E40AFF 70%, /* Black outer ring */
        transparent 70%
      )
    `,backgroundSize:"cover",backgroundPosition:"center center",backgroundRepeat:"no-repeat",zIndex:0},D=[{url:P,opacity:.7,contrast:8,zIndex:2,size:"70%",pos:"center",saturation:2.2,hue:20,rotate:f.layer1},{url:_,opacity:.9,contrast:8,zIndex:3,size:"50%",pos:"center",saturation:2.8,hue:10,rotate:f.layer2},{url:O,opacity:1,contrast:8,zIndex:1,size:"50%",pos:"center",saturation:2.5,hue:-40},{url:N,opacity:.7,contrast:6,zIndex:4,size:"50%",pos:"center",saturation:2.5,hue:-40,rotate:f.layer3}],M=t=>({position:"absolute",width:"150vw",height:"150vh",top:"50%",left:"50%",transform:t.rotate?`translate(-50%, -50%) rotate(${t.rotate}deg)`:"translate(-50%, -50%)",transformOrigin:"center",backgroundImage:`url(${t.url})`,backgroundSize:t.size||"cover",backgroundPosition:t.pos||"center",backgroundRepeat:"no-repeat",opacity:t.opacity,zIndex:t.zIndex,filter:`saturate(${t.saturation||1}) hue-rotate(${t.hue||0}deg) contrast(${t.contrast||1})`}),A={position:"absolute",top:"50%",left:"50%",width:"100vmax",height:"100vmax",transform:"translate(-50%, -50%)",zIndex:5,pointerEvents:"none"},F={position:"absolute",background:"rgba(0, 0, 0, 0.5)"},l={position:"absolute",fontFamily:"Arial, sans-serif",fontWeight:"bold",color:"#393737FF",fontSize:`${n*.1}vmin`,textShadow:"0 0.2vmin 0.2vmin #FFFFFF",userSelect:"none",zIndex:6},B={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:`${n}vmin`,height:`${n}vmin`,display:"grid",placeItems:"center",zIndex:10},L={position:"relative",width:"100%",height:"100%",borderRadius:"50%"},R={position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",fontFamily:`${g}, Arial, sans-serif`,fontWeight:"700",userSelect:"none",color:"#0D0C0CFF",zIndex:2},H=a.useMemo(()=>{const t=n/2-n*.08;return v.map((e,o)=>{const i=(o/12*360-90)*(Math.PI/180),r=Math.cos(i)*t,d=Math.sin(i)*t,y=n*.22;return s.jsx("div",{style:{...R,left:`calc(50% + ${r}vmin)`,top:`calc(50% + ${d}vmin)`,fontSize:`${y}vmin`},children:e},o)})},[v,n]),z=a.useMemo(()=>{const t=[];for(let e=0;e<60;e++){const o=e%5===0,i=o?n*.05:n*.03,r=o?n*.008:n*.004;t.push(s.jsx("div",{style:{position:"absolute",left:"50%",top:"50%",width:`${i}vmin`,height:`${r}vmin`,background:"rgba(0,0,0,0.5)",transformOrigin:"0% 50%",transform:`rotate(${e*6-90}deg) translateX(${n*.48}vmin)`,borderRadius:"1vmin",opacity:o?.9:.6}},e))}return t},[n]),W=a.useMemo(()=>{const t=[10,9,8,7,6,5],e=[];return t.forEach((o,i)=>{const r=(i+1)*15;e.push(s.jsx("div",{style:{...l,left:`calc(50% - ${r}vw)`,top:"50%",transform:"translate(-50%, -50%)"},children:o},`h-${o}-left`)),e.push(s.jsx("div",{style:{...l,left:`calc(50% + ${r}vw)`,top:"50%",transform:"translate(-50%, -50%)"},children:o},`h-${o}-right`))}),t.forEach((o,i)=>{const r=(i+1)*15;e.push(s.jsx("div",{style:{...l,left:"50%",top:`calc(50% - ${r}vh)`,transform:"translate(-50%, -50%)"},children:o},`v-${o}-top`)),e.push(s.jsx("div",{style:{...l,left:"50%",top:`calc(50% + ${r}vh)`,transform:"translate(-50%, -50%)"},children:o},`v-${o}-bottom`))}),e},[n]),h=(t,e,o)=>({position:"absolute",left:"50%",top:"50%",transformOrigin:"0% 50%",transform:`rotate(${t-90}deg) translateX(${n*.04}vmin)`,width:`${e}vmin`,height:"auto",zIndex:o,pointerEvents:"none"}),u={width:"100%",height:"auto",transform:"rotate(180deg)",transformOrigin:"center",filter:"drop-shadow(0.2vmin 0.2vmin 0.3vmin rgba(0,0,0,0.5))"};return s.jsxs("div",{style:E,children:[s.jsx("style",{children:`
        @font-face {
          font-family: '${g}';
          src: url(${x}) format('opentype');
          font-weight: 700;
          font-style: normal;
          font-display: swap; // Allows fallback font during load
        }
      `}),s.jsx("div",{style:C}),D.map((t,e)=>s.jsx("div",{style:M(t)},e)),s.jsxs("div",{style:A,children:[s.jsx("div",{style:{...F,width:"100%",height:"0.2vmin",top:"50%",transform:"translateY(-50%)"}}),s.jsx("div",{style:{...F,width:"0.2vmin",height:"100%",left:"50%",transform:"translateX(-50%)"}})]}),W,s.jsx("div",{style:B,children:s.jsx("div",{style:L,children:j&&s.jsxs(s.Fragment,{children:[z,H,s.jsx("div",{style:h(I,n*.37,3),children:s.jsx("img",{src:K,style:u,alt:"Hour hand"})}),s.jsx("div",{style:h(k,n*.53,4),children:s.jsx("img",{src:X,style:u,alt:"Minute hand"})}),b&&s.jsx("div",{style:h(S,n*.6,5),children:s.jsx("img",{src:Y,style:u,alt:"Second hand"})})]})})})]})}export{G as default};
