import{r as n,j as s}from"./index-37WBs3jL.js";const X="/assets/monarch-BawqPYRw.mp4",Y="/assets/monarch-DBTEO3Qa.webp",F="/assets/roman-nCTv-Ybl.otf";function G(){const f=n.useRef(null),[b,m]=n.useState(!1),[v,i]=n.useState(!1),[S,V]=n.useState(!1),[j,p]=n.useState({}),g="linear-gradient(180deg, #E8B87DFF, #EA9227FF)",[d,R]=n.useState(new Date);n.useEffect(()=>{let t=Date.now();const e=setInterval(()=>{const o=Date.now();o-t>=1e3&&(R(new Date),t=o)},100);return()=>clearInterval(e)},[]),n.useEffect(()=>{const t="RomanClockFont_2025_10_27",e=new FontFace(t,`url(${F}) format('opentype')`);e.load().then(()=>{document.fonts.add(e),i(!0)}).catch(()=>i(!0));const o=setTimeout(()=>{v||i(!0)},3e3);return()=>clearTimeout(o)},[]);const $=()=>{m(!0),c()},k=()=>V(!0),E=()=>m(!0),c=()=>{const t=f.current;if(!t)return;const e=window.innerWidth,o=window.innerHeight,r=t.videoWidth/t.videoHeight;e/o<r?p({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",height:"100dvh",width:"auto",objectFit:"cover",zIndex:0,filter:"saturate(1.5)"}):p({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100dvw",height:"auto",objectFit:"cover",zIndex:0,filter:"saturate(1.5)"})};n.useEffect(()=>(window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)),[]);const l=56,a=l/2.7,w=a+4.2,h=d.getSeconds(),I=d.getMinutes(),z=d.getHours()%12+I/60+h/3600,C=h*6,D=I*6+h*.1,L=z*30,_=["XII","I","II","III","IV","V","VI","VII","VIII","IX","X","XI"],y="RomanClockFont_2025_10_27",A=`
    @font-face {
      font-family: '${y}';
      src: url('${F}') format('opentype');
      font-display: swap;
    }
  `,u={position:"absolute",left:"50%",top:"50%",background:g,transformOrigin:"50% 90%",borderRadius:"0.6dvh",pointerEvents:"none"},M={...u,height:`${a*.4}dvh`,width:"0.7dvh",transform:`translate(-50%,-100%) rotate(${L}deg)`,zIndex:6},O={...u,height:`${a*.72}dvh`,width:"0.5dvh",transform:`translate(-50%,-100%) rotate(${D}deg)`,zIndex:8},B={...u,height:`${a*.9}dvh`,width:"0.25dvh",transform:`translate(-50%,-100%) rotate(${C}deg)`,zIndex:9},H={position:"absolute",fontFamily:`'${y}', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif`,fontSize:"7dvh",fontWeight:600,userSelect:"none",pointerEvents:"none",transformOrigin:"50% 50%",letterSpacing:"0.15rem",background:g,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"};return s.jsxs("div",{style:{height:"100dvh",width:"100dvw",overflow:"hidden",position:"relative",backgroundColor:"#000"},children:[S?s.jsx("img",{src:Y,alt:"",onLoad:E,style:{position:"absolute",top:"50%",left:0,transform:"translateY(-50%)",height:"100dvh",width:"auto",objectFit:"cover",zIndex:0}}):s.jsx("video",{ref:f,src:X,muted:!0,autoPlay:!0,loop:!0,playsInline:!0,onLoadedData:$,onError:k,style:j}),b&&v&&s.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)",width:`${l}dvh`,height:`${l}dvh`,borderRadius:"50%",display:"grid",placeItems:"center",zIndex:2},children:[s.jsx("style",{children:A}),_.map((t,e)=>{const o=e*30-90,r=o*Math.PI/180,x=Math.cos(r)*w,T=Math.sin(r)*w,W=`calc(50% + ${x}dvh)`,N=`calc(50% + ${T}dvh)`,P=o+90;return s.jsx("div",{style:{...H,left:W,top:N,transform:`translate(-50%,-50%) rotate(${P}deg)`,zIndex:5,whiteSpace:"nowrap"},children:t},e)}),s.jsx("div",{style:M}),s.jsx("div",{style:O}),s.jsx("div",{style:B})]})]})}export{G as default};
