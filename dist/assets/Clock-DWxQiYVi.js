import{r as s,j as g}from"./index-Dc0OWZGp.js";const w="/assets/morse-CiCspx5C.ttf",I="/assets/birds-D-e6q5j4.gif",E=["#c0c6c7","#99a3a3","#96431FFF","#666666","#333333","#777777","#444444","#999999","#888888","#aaaaaa","#bbbbbb","#66615C","#c0c6c7","#99a3a3","#894528FF","#7E4930FF"],C=250,i=1e3,Y=500;function p(f,h){return Math.floor(Math.random()*(h-f+1))+f}const k=()=>{const[f,h]=s.useState(new Date),[x,F]=s.useState(Array(6).fill("0")),[m,S]=s.useState(new Set),b=s.useRef([]),c=s.useRef(null);s.useEffect(()=>{new FontFace("morse",`url(${w})`).load().then(e=>{document.fonts.add(e)})},[]),s.useEffect(()=>{if(!c.current)return;b.current=[];const t=Y/(C+1),e=Array.from({length:C},(n,a)=>(a+1)*t);for(let n=e.length-1;n>0;n--){const a=Math.floor(Math.random()*(n+1));[e[n],e[a]]=[e[a],e[n]]}for(;c.current.firstChild;)c.current.removeChild(c.current.firstChild);for(let n=0;n<C;n++){const a=p(10,100),r=e[n],d=p(i*.3,i*.7),u=r+a,o=document.createElementNS("http://www.w3.org/2000/svg","path"),v=`M0 ${r} Q${d} ${u} ${i} ${r}`;o.setAttribute("d",v),o.setAttribute("stroke",E[n%E.length]),o.setAttribute("stroke-width",(1+n%3*.5).toString()),o.setAttribute("fill","none"),o.style.transition="d 0.5s ease-in-out",c.current.appendChild(o),b.current.push({path:o,currentStartY:r,currentEndY:r,currentControlX:d,currentControlY:u,targetStartY:r,targetEndY:r,targetControlX:d,targetControlY:u,fixedStartY:r,fixedEndY:r})}},[]);function j(){b.current.forEach(t=>{const e=p(10,100);t.targetControlY=t.fixedStartY+e,t.targetControlX=p(i*.3,i*.7),t.currentControlY+=(t.targetControlY-t.currentControlY)*.1,t.currentControlX+=(t.targetControlX-t.currentControlX)*.1;const n=`M0 ${t.fixedStartY} Q${t.currentControlX} ${t.currentControlY} ${i} ${t.fixedEndY}`;t.path.setAttribute("d",n)})}s.useEffect(()=>{const t=setInterval(()=>{const e=new Date;h(e);const n=e.getHours().toString().padStart(2,"0"),a=e.getMinutes().toString().padStart(2,"0"),r=e.getSeconds().toString().padStart(2,"0"),d=[...n,...a,...r];S(u=>{const o=new Set;return d.forEach((v,y)=>{v!==x[y]&&o.add(y)}),o}),F(d),j()},1e3);return()=>clearInterval(t)},[x]),s.useEffect(()=>{if(m.size===0)return;const t=setTimeout(()=>{S(new Set)},300);return()=>clearTimeout(t)},[m]);const l={container:{margin:0,height:"100dvh",width:"100vw",background:"linear-gradient(to bottom, #87CEEB 0%, #E0F6FF 100%)",position:"relative",overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center",fontFamily:"'morse', Arial, sans-serif"},bgImage:{position:"absolute",top:0,left:0,width:"100vw",height:"60vh",objectFit:"cover",zIndex:0,opacity:.5,userSelect:"none",pointerEvents:"none"},svg:{position:"absolute",top:0,left:0,width:"100vw",height:"100vh",zIndex:1,pointerEvents:"none"},clock:{display:"flex",flexDirection:"column",gap:"2rem",position:"relative",zIndex:4,userSelect:"none",alignItems:"center"},digitBox:{width:"900%",height:"1.5rem",backgroundColor:"#b87333",color:"#b90404",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"3rem",boxShadow:"0px -0.2rem 0px #9db4a0, 0px 0.2rem 0px #9db4a0, 0px -0.325rem 0.25rem #ecf1c6, 0px 0.45rem 0.525rem #1a1b1a",fontWeight:"normal",textShadow:"0px -0.125rem 0px rgb(250, 247, 247), -0.125rem 0px 0px rgb(247, 242, 242), 0.125rem 0px 0px rgba(0, 0, 0), 0px 0.125rem 0px rgba(0, 0, 0), 0px -0.0625rem 0px rgb(248, 241, 241), -0.0625rem 0px 0px rgba(0, 0, 0), 0.0625rem 0px 0px rgba(0, 0, 0), 0px 0.0625rem 0px rgba(0, 0, 0)",transition:"opacity 0.3s ease-in-out",userSelect:"none"},digitText:t=>({opacity:t?0:1,transition:"opacity 0.3s ease-in-out"})};return g.jsxs("div",{style:l.container,children:[g.jsx("img",{src:I,alt:"Background",style:l.bgImage,draggable:!1}),g.jsx("svg",{ref:c,viewBox:`0 0 ${i} ${Y}`,preserveAspectRatio:"none",style:l.svg}),g.jsx("div",{style:l.clock,"aria-label":"Morse Code Clock",children:x.map((t,e)=>g.jsx("div",{style:l.digitBox,"aria-live":"polite",children:g.jsx("span",{style:l.digitText(m.has(e)),children:t})},e))})]})};export{k as default};
