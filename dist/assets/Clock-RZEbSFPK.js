import{r as n,j as S}from"./index-B3uyj-Zi.js";function O(){const f=n.useRef(null),[i,v]=n.useState({hours:"",minutes:""}),[c,T]=n.useState({x:0,y:0}),[d,z]=n.useState({x:0,y:0}),[l,X]=n.useState(0),[u,Y]=n.useState(0),[x,b]=n.useState(0),[m,j]=n.useState(0),[g,C]=n.useState(1),[M,E]=n.useState(1),[a,P]=n.useState({x:0,y:0,z:0}),[w,R]=n.useState("rgb(0, 0, 0)"),[B,H]=n.useState([]),A=()=>{const s=Math.floor(Math.random()*256),t=Math.floor(Math.random()*256),r=Math.floor(Math.random()*256);return`rgb(${s}, ${t}, ${r})`},k=()=>{const s=new Date;let t=s.getHours();const r=String(s.getMinutes()).padStart(2,"0");t=t%12||12,v({hours:t,minutes:r}),R(A()),z(h=>({x:h.x+(Math.random()-.5)*window.innerWidth*.02,y:h.y+(Math.random()-.5)*window.innerHeight*.02})),b((Math.random()-.5)*10),j((Math.random()-.5)*10),E(.9+Math.random()*.2),P({x:(Math.random()-.5)*15,y:(Math.random()-.5)*15,z:(Math.random()-.5)*45})};n.useEffect(()=>{const s=f.current,t=s.getContext("2d"),r=()=>{s.width=window.innerWidth,s.height=window.innerHeight},h=()=>{t.clearRect(0,0,s.width,s.height),H(e=>{const y=[...e,{x:c.x,y:c.y,skewX:l,skewY:u,stretch:g,color:w,opacity:1,rotationX:a.x,rotationY:a.y,rotationZ:a.z}].slice(-300);return y.forEach((o,q)=>{const p=o.opacity*(1-q/y.length);p<.05||(t.save(),t.font=`${window.innerHeight*.2}rem 'Stick', sans-serif`,t.textBaseline="middle",t.textAlign="center",t.translate(s.width/2+o.x,s.height/2+o.y),t.rotate(o.rotationZ*Math.PI/180),t.setTransform(o.stretch*Math.cos(o.rotationY*Math.PI/180),o.skewX*.01,o.skewY*.01,Math.cos(o.rotationX*Math.PI/180),0,0),t.fillStyle=`rgba(${o.color.match(/\d+/g).join(",")}, ${p})`,t.fillText(`${i.hours}:${i.minutes}`,0,0),t.restore())}),y.map(o=>({...o,opacity:o.opacity*.994}))})};window.addEventListener("resize",r),r(),k();const L=setInterval(k,100),$=()=>{T(e=>({x:e.x+(d.x-e.x)*.05,y:e.y+(d.y-e.y)*.05})),X(e=>e+(x-e)*.05),Y(e=>e+(m-e)*.05),C(e=>e+(M-e)*.05),h(),requestAnimationFrame($)};return $(),()=>{window.removeEventListener("resize",r),clearInterval(L)}},[c,d,l,u,x,m,g,M,a,w,i]);const W={height:"100vh",width:"100vw",display:"flex",justifyContent:"center",alignItems:"center",margin:0,padding:0,background:"white",fontFamily:"'Stick', sans-serif",fontWeight:400,fontStyle:"normal",position:"relative"},Z={fontSize:"10rem",color:w,transform:`translate(${c.x}vw, ${c.y}vh) skewX(${l}deg) skewY(${u}deg) rotateX(${a.x}deg) rotateY(${a.y}deg) rotateZ(${a.z}deg) scale(${g})`,transition:"transform 0.1s ease, color 0.1s ease",position:"absolute",top:"50%",left:"50%",transformOrigin:"center"},F={position:"absolute",top:0,left:0,width:"100vw",height:"100vh",zIndex:-1};return S.jsxs("div",{style:W,children:[S.jsxs("div",{style:Z,children:[i.hours,":",i.minutes]}),S.jsx("canvas",{ref:f,style:F})]})}export{O as default};
