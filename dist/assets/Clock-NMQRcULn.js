import{r as u,j as p}from"./index-37WBs3jL.js";const U="/assets/fall-BgSk1qx0.ttf",_=()=>{const[v,X]=u.useState(new Date),[E,I]=u.useState(0),[f,B]=u.useState(!1),[O,A]=u.useState(!1),[T,Z]=u.useState(0),y=u.useRef([]),g=u.useRef({hour:null,minute:null,second:null}),$=u.useRef(null),z=u.useRef(null),F=u.useRef(null);u.useEffect(()=>{const t=document.createElement("style");return t.innerHTML=`
      @font-face {
        font-family: "EntropyFont";
        src: url(${U}) format("truetype");
        font-weight: normal;
        font-style: normal;
      }
    `,document.head.appendChild(t),F.current=t,setTimeout(()=>B(!0),100),()=>{F.current&&document.head.contains(F.current)&&document.head.removeChild(F.current)}},[]),u.useEffect(()=>{const t=setInterval(()=>X(new Date),1e3);return()=>clearInterval(t)},[]),u.useEffect(()=>{if(!f)return;A(!1);const t=setTimeout(()=>Z(e=>e+1),50);return()=>clearTimeout(t)},[E,f]),u.useEffect(()=>{if(!f)return;const t=setTimeout(()=>A(!0),50);return()=>clearTimeout(t)},[T,f]);const C=t=>t.sort(()=>Math.random()-.5);u.useEffect(()=>{if(!f)return;const t=[];let e=2e3;return C([...Array(12).keys()]).forEach(o=>{const a=500+Math.random()*500;e+=a,t.push(setTimeout(()=>P(o),e)),t.push(setTimeout(()=>L(o),e+1500))}),C(["hour","minute","second"]).forEach(o=>{const a=800+Math.random()*500;e+=a,t.push(setTimeout(()=>K(o),e)),t.push(setTimeout(()=>N(o),e+1500))}),e+=1e3+Math.random()*500,t.push(setTimeout(()=>W(),e)),e+=1e3+Math.random()*500,t.push(setTimeout(()=>G(),e)),e+=2e3,t.push(setTimeout(()=>I(o=>o+1),e)),()=>t.forEach(clearTimeout)},[E,f]);const H=v.getHours()%12,R=v.getMinutes(),k=v.getSeconds(),S=(H+R/60)*30,D=(R+k/60)*6,q=k*6,P=t=>{const e=y.current[t];if(!e)return;let n=null;const s=1500,o=a=>{n||(n=a);const i=(a-n)/s;if(i>=1)return;const c=Math.pow(i,2)*5,m=(Math.random()-.5)*c,r=(Math.random()-.5)*c,d=(Math.random()-.5)*c*2;e.style.transform=`translate(calc(-50% + ${m}px), calc(-50% + ${r}px)) rotate(${d}deg)`,requestAnimationFrame(o)};requestAnimationFrame(o)},K=t=>{const e=g.current[t];if(!e)return;let n=null;const s=1500,o=t==="hour"?S:t==="minute"?D:q,a=i=>{n||(n=i);const c=(i-n)/s;if(c>=1)return;const m=Math.pow(c,2)*10,r=(Math.random()-.5)*m;e.style.transform=`rotate(${o+r}deg)`,requestAnimationFrame(a)};requestAnimationFrame(a)},L=t=>{const e=y.current[t];if(!e)return;let n=null;const s=3e3+Math.random()*2e3,o=Math.random()*1440-720,a=Math.random()*1440-720,i=Math.random()*1440-720,c=m=>{n||(n=m);const r=Math.min((m-n)/s,1),d=Math.sin(r*Math.PI)*20;e.style.transform=`translate(-50%, ${d+r*150}vh) rotateX(${o*r}deg) rotateY(${a*r}deg) rotateZ(${i*r}deg)`,e.style.opacity=1-r,r<1&&requestAnimationFrame(c)};requestAnimationFrame(c)},N=t=>{const e=g.current[t];if(!e)return;let n=null;const s=3e3+Math.random()*1e3,o=Math.random()*1440-720,a=Math.random()*1440-720,i=Math.random()*1440-720,c=m=>{n||(n=m);const r=Math.min((m-n)/s,1),d=Math.sin(r*Math.PI)*20;e.style.transform=`translate(-50%, ${d+r*150}vh) rotateX(${o*r}deg) rotateY(${a*r}deg) rotateZ(${i*r}deg)`,e.style.opacity=1-r,r<1&&requestAnimationFrame(c)};requestAnimationFrame(c)},W=()=>{const t=$.current;if(!t)return;const e=500,n=t.getBoundingClientRect();for(let s=0;s<e;s++){const o=document.createElement("div");Object.assign(o.style,{position:"fixed",width:"2px",height:"2px",background:"gold",borderRadius:"50%",left:`${n.left+n.width/2}px`,top:`${n.top+n.height/2}px`,pointerEvents:"none",zIndex:"1000"}),document.body.appendChild(o);const a=Math.random()*2*Math.PI,i=5+Math.random()*15,c=Math.random()*720,m=Math.random()*720,r=Math.random()*720,d=performance.now(),w=2e3+Math.random()*1e3,h=M=>{const l=Math.min((M-d)/w,1),x=Math.cos(a)*i*l*50,b=Math.sin(a)*i*l*50;o.style.transform=`translate(${x}px, ${b}px) rotateX(${c*l}deg) rotateY(${m*l}deg) rotateZ(${r*l}deg)`,o.style.opacity=1-l,l<1?requestAnimationFrame(h):o.remove()};requestAnimationFrame(h)}t.style.opacity="0"},G=()=>{[...y.current.filter(Boolean),...Object.values(g.current).filter(Boolean),$.current].filter(Boolean).forEach(e=>{const n=e.getBoundingClientRect(),s=window.innerWidth/2,o=window.innerHeight/2,a=Math.atan2(n.top-o,n.left-s),i=150+Math.random()*100;let c=null;const m=2e3+Math.random()*1e3,r=Math.random()*1440-720,d=Math.random()*1440-720,w=Math.random()*1440-720,h=M=>{c||(c=M);const l=Math.min((M-c)/m,1),x=1-Math.pow(1-l,3),b=Math.cos(a)*i*x,J=Math.sin(a)*i*x+l*150,Q=e.style.transform||"";e.style.transform=`${Q} translate(${b}vw, ${J}vh) rotateX(${r*l}deg) rotateY(${d*l}deg) rotateZ(${w*l}deg)`,e.style.opacity=1-l,l<1&&requestAnimationFrame(h)};requestAnimationFrame(h)})},j="90vmin",Y="-2px -2px 0px #37034A, 0 0 30px #FFEA00";return p.jsx("div",{style:{width:"100vw",height:"100dvh",display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",fontFamily:"EntropyFont, monospace",perspective:"1500px",background:"radial-gradient(circle at center, #F761C2FF 0%, #DA44BFFF 30%, #C96CF5FF 100%)",margin:0,padding:0},children:p.jsxs("div",{ref:z,style:{position:"relative",width:j,height:j,borderRadius:"50%",opacity:O?1:0,transition:"opacity 1s ease-in-out",transform:"translateY(-3vh)"},children:[[...Array(12).keys()].map(t=>{const n=(t/12*360-90)*Math.PI/180;return p.jsx("div",{ref:s=>y.current[t]=s,style:{position:"absolute",left:`calc(50% + ${40*Math.cos(n)}vmin)`,top:`calc(50% + ${40*Math.sin(n)}vmin)`,transform:"translate(-50%, -50%)",fontSize:"7vh",fontWeight:"900",color:"#FFD700",textShadow:Y,fontFamily:"EntropyFont, monospace",userSelect:"none"},children:t===0?12:t},t)}),p.jsx("div",{ref:$,style:{position:"absolute",width:"2vmin",height:"2vmin",backgroundColor:"gold",borderRadius:"50%",top:"50%",left:"50%",transform:"translate(-50%, -50%)",boxShadow:"-2px -2px 0px #37034AFF, 0 0 20px #FFD700, 0 0 40px #FFD700, 0 0 60px #FFEA00",zIndex:10}}),["hour","minute","second"].map(t=>{const e=t==="hour"?S:t==="minute"?D:q,n=t==="hour"?"25vmin":t==="minute"?"35vmin":"45vmin",s=t==="hour"?"1.5vmin":t==="minute"?"1vmin":"0.5vmin";return p.jsx("div",{ref:o=>g.current[t]=o,style:{position:"absolute",width:s,height:n,backgroundColor:t==="second"?"#FF0404FF":"#FFD700",left:`calc(50% - ${parseFloat(s)/2}vmin)`,top:`calc(50% - ${parseFloat(n)}vmin)`,transformOrigin:"center bottom",transform:`rotate(${e}deg)`,borderRadius:"50%",boxShadow:Y,...t==="second"?{filter:"drop-shadow(0 0 6px #FB0808FF) drop-shadow(0 0 12px #FF6347)"}:{}}},t)})]},T)})};export{_ as default};
