import{r as i,j as r}from"./index-DbecJIRO.js";const j="/assets/van-D1wM3PFP.ttf",p="/assets/skull-FnwlKaeQ.jpg",m="/assets/va-CPLwwdEU.webp",f="/assets/cand-DoufoY9Q.webp",e={font:"VanFont",fontUrl:j,fontSize:"1.4rem",digitWidth:"1.2rem",digitHeight:"1.4rem",digitGap:"0.3rem",clockPadding:"0.1rem 0.1rem",symbolWidth:"0.6rem",gridGap:"1rem"},C=i.memo(({char:o})=>{const d={fontFamily:e.font,fontSize:e.fontSize,width:o===":"||o==="."?e.symbolWidth:e.digitWidth,height:e.digitHeight,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"0.2rem",userSelect:"none",opacity:.8,color:o===":"||o==="."?"#817F7FFF":"#558A59FF",textShadow:o===":"||o==="."?"none":"0 0 1px red",background:"transparent"};return r.jsx("div",{style:d,children:o})}),$=i.memo(({timeStr:o})=>r.jsx("div",{style:{display:"flex",gap:e.digitGap,borderRadius:"0.5rem",padding:e.clockPadding},children:o.split("").map((d,c)=>r.jsx(C,{char:d},c))}));function P(){const[o,d]=i.useState("00:00:00.00"),[c,h]=i.useState({rows:1,cols:1}),[w,b]=i.useState(!1);if(i.useEffect(()=>{const n=async()=>{const s=new FontFace(e.font,`url(${e.fontUrl})`);await s.load(),document.fonts.add(s)},t=s=>new Promise(g=>{const l=new Image;l.src=s,l.onload=g});(async()=>{await n(),await Promise.all([t(m),t(p),t(f)]),b(!0)})()},[]),i.useEffect(()=>{const n=setInterval(()=>{const t=new Date,a=(x,I=2)=>String(x).padStart(I,"0"),s=a(t.getHours()),g=a(t.getMinutes()),l=a(t.getSeconds()),F=a(Math.floor(t.getMilliseconds()/10));d(`${s}:${g}:${l}.${F}`)},50);return()=>clearInterval(n)},[]),i.useEffect(()=>{const n=()=>{const a=parseFloat(e.digitWidth)*11+parseFloat(e.digitGap)*10+40,s=parseFloat(e.digitHeight)+40,g=Math.ceil(window.innerWidth/a)+2,l=Math.ceil(window.innerHeight/s)+2;h({rows:l,cols:g})};return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),!w)return null;const u=[];for(let n=0;n<c.rows;n++)for(let t=0;t<c.cols;t++)u.push(r.jsx($,{timeStr:o},`${n}-${t}`));const y={position:"relative",height:"100dvh",width:"100vw",overflow:"hidden",backgroundImage:`url(${m})`,backgroundSize:"140% auto",backgroundPosition:"20% center",backgroundRepeat:"no-repeat",filter:"brightness(1.8) contrast(1.8)"},k={position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundImage:`url(${p})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",opacity:.65,pointerEvents:"none",filter:"brightness(0.9) contrast(1.9)"},v={position:"absolute",bottom:0,left:0,width:"100%",height:"100%",backgroundImage:`url(${f})`,backgroundSize:"cover",backgroundPosition:"center bottom",backgroundRepeat:"no-repeat",opacity:.4,pointerEvents:"none",filter:"brightness(1.7) contrast(0.4)"},S={position:"absolute",top:"50%",left:"50%",display:"grid",gridTemplateColumns:`repeat(${c.cols}, auto)`,gridTemplateRows:`repeat(${c.rows}, auto)`,gap:e.gridGap,transform:"translate(-50%, -50%)"};return r.jsxs("div",{style:y,children:[r.jsx("div",{style:k}),r.jsx("div",{style:v}),r.jsx("div",{style:S,children:u})]})}export{P as default};
