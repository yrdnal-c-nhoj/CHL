import{r as o,j as e}from"./index-DuxRGnoV.js";const L="/assets/esp--zr2n6UP.mp4",W="/assets/esp-ircZhQLA.webp",C="/assets/esp-Co0r21Pl.jpeg",z="/assets/esp-nMYSMUay.ttf",A="/assets/ul-DduTfklt.webp",P="/assets/lr-lELWSqds.webp";function D(){const l=o.useRef(null),[k,c]=o.useState(!1),[i,h]=o.useState(new Date),d="#110116FF",u="-1px 1px 0px #F1E7D8FF";o.useEffect(()=>{const t=setInterval(()=>h(new Date),1e3);return()=>clearInterval(t)},[]),o.useEffect(()=>{const t=l.current;if(!t)return;const n=()=>c(!0),r=()=>c(!1);return t.addEventListener("error",n),t.addEventListener("stalled",n),t.addEventListener("canplay",r),t.play()?.catch(n),()=>{t.removeEventListener("error",n),t.removeEventListener("stalled",n),t.removeEventListener("canplay",r)}},[]);const s=t=>{const n=t.split(" ");return n.length===0?t:[n[0].charAt(0).toUpperCase()+n[0].slice(1).toLowerCase(),...n.slice(1).map(r=>r.toLowerCase())].join(" ")},f=["nul","unu","du","tri","kvar","kvin","ses","sep","ok","naŭ","dek","dek unu","dek du","dek tri","dek kvar","dek kvin","dek ses","dek sep","dek ok","dek naŭ","dudek","dudek unu","dudek du","dudek tri"],v=["nul","unu","du","tri","kvar","kvin","ses","sep","ok","naŭ","dek","dek unu","dek du","dek tri","dek kvar","dek kvin","dek ses","dek sep","dek ok","dek naŭ","dudek","dudek unu","dudek du","dudek tri","dudek kvar","dudek kvin","dudek ses","dudek sep","dudek ok","dudek naŭ","tridek","tridek unu","tridek du","tridek tri","tridek kvar","tridek kvin","tridek ses","tridek sep","tridek ok","tridek naŭ","kvardek","kvardek unu","kvardek du","kvardek tri","kvardek kvar","kvardek kvin","kvardek ses","kvardek sep","kvardek ok","kvardek naŭ","kvindek","kvindek unu","kvindek du","kvindek tri","kvindek kvar","kvindek kvin","kvindek ses","kvindek sep","kvindek ok","kvindek naŭ"],x=s(f[i.getHours()]),m=s(v[i.getMinutes()]),g=s(v[i.getSeconds()]),y={fontFamily:"'CustomFont', serif",width:"100vw",height:"100dvh",minHeight:"100dvh",position:"relative",overflow:"hidden",color:d,zIndex:1},b={position:"absolute",inset:0,width:"100%",height:"100%",objectFit:"cover",zIndex:0,opacity:.7,filter:"saturate(0.4) brightness(2.9) contrast(0.3) sepia(0.2) hue-rotate(-30deg)"},w={position:"absolute",inset:0,width:"100%",height:"100%",backgroundImage:`url(${C})`,backgroundSize:"cover",backgroundPosition:"center",display:k?"block":"none",zIndex:0,opacity:.7,filter:"sepia(0.3) contrast(0.4) brightness(1.9)"},j={position:"absolute",display:"flex",justifyContent:"space-between",alignItems:"center",width:"90vw",left:"50%",transform:"translateX(-50%)",fontSize:"4vh",whiteSpace:"nowrap",top:"0",textShadow:u,fontWeight:"normal"},S={textAlign:"left",flexShrink:0,fontWeight:"normal"},E={textAlign:"right",flexShrink:0,fontWeight:"normal"},F={flexGrow:1,height:"1px",backgroundImage:`repeating-linear-gradient(to right, ${d} 0 2px, transparent 2px 6px)`,margin:"0 1vw",opacity:.6},a=(t,n,r)=>e.jsxs("div",{style:{...j,top:r},children:[e.jsx("div",{style:S,children:t}),e.jsx("div",{style:F}),e.jsx("div",{style:E,children:n})]}),I={position:"absolute",inset:0,pointerEvents:"none",zIndex:2,border:"10px solid transparent",boxShadow:"inset 0 0 30px rgba(200,185,155,0.6), 0 0 40px rgba(0,0,0,0.7)"},p={position:"absolute",width:"16vh",height:"auto",tint:d};return e.jsxs("div",{style:y,children:[e.jsx("style",{children:`
          @font-face {
            font-family: 'CustomFont';
            src: url(${z}) format('truetype');
            font-weight: normal;
            font-style: normal;
          }
        `}),e.jsxs("div",{className:"victorian-frame",style:I,children:[e.jsx("img",{src:A,alt:"Victorian corner upper-left",style:{...p,top:"0",left:"0",opacity:.6}}),e.jsx("img",{src:P,alt:"Victorian corner lower-right",style:{...p,bottom:"0",right:"0",opacity:.6}})]}),e.jsxs("video",{ref:l,style:b,loop:!0,muted:!0,playsInline:!0,autoPlay:!0,preload:"metadata",children:[e.jsx("source",{src:L,type:"video/mp4"}),e.jsx("source",{src:W,type:"video/webm"})]}),e.jsx("div",{style:w,"aria-hidden":!k}),e.jsxs("div",{style:{position:"absolute",top:"8%",width:"100%",textAlign:"center",fontSize:"5vh",textShadow:u,fontWeight:"normal"},children:["Bonvenon al ",e.jsx("br",{}),"la Esperanta ",e.jsx("br",{}),"Horloĝo!"]}),a(x,s("horoj"),"40%"),a(m,s("minutoj"),"55%"),a(g,s("sekundoj"),"70%")]})}export{D as default};
