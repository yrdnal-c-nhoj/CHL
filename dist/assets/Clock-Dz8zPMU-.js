import{r as u,j as p}from"./index-CxO71aJe.js";const Q="/assets/fall-BgSk1qx0.ttf",V=()=>{const[v,X]=u.useState(new Date),[E,Y]=u.useState(0),[f,I]=u.useState(!1),[O,T]=u.useState(!1),[A,Z]=u.useState(0),y=u.useRef([]),F=u.useRef({hour:null,minute:null,second:null}),$=u.useRef(null),B=u.useRef(null),g=u.useRef(null);u.useEffect(()=>{const t=document.createElement("style");return t.innerHTML=`
      @font-face {
        font-family: "EntropyFont";
        src: url(${Q}) format("truetype");
        font-weight: normal;
        font-style: normal;
      }
    `,document.head.appendChild(t),g.current=t,setTimeout(()=>I(!0),100),()=>{g.current&&document.head.contains(g.current)&&document.head.removeChild(g.current)}},[]),u.useEffect(()=>{const t=setInterval(()=>X(new Date),1e3);return()=>clearInterval(t)},[]),u.useEffect(()=>{if(!f)return;T(!1);const t=setTimeout(()=>Z(e=>e+1),50);return()=>clearTimeout(t)},[E,f]),u.useEffect(()=>{if(!f)return;const t=setTimeout(()=>T(!0),50);return()=>clearTimeout(t)},[A,f]);const D=t=>t.sort(()=>Math.random()-.5);u.useEffect(()=>{if(!f)return;const t=[];let e=2e3;return D([...Array(12).keys()]).forEach(o=>{const a=500+Math.random()*500;e+=a,t.push(setTimeout(()=>H(o),e)),t.push(setTimeout(()=>K(o),e+1500))}),D(["hour","minute","second"]).forEach(o=>{const a=800+Math.random()*500;e+=a,t.push(setTimeout(()=>P(o),e)),t.push(setTimeout(()=>L(o),e+1500))}),e+=1e3+Math.random()*500,t.push(setTimeout(()=>N(),e)),e+=1e3+Math.random()*500,t.push(setTimeout(()=>W(),e)),e+=2e3,t.push(setTimeout(()=>Y(o=>o+1),e)),()=>t.forEach(clearTimeout)},[E,f]);const z=v.getHours()%12,R=v.getMinutes(),k=v.getSeconds(),C=(z+R/60)*30,S=(R+k/60)*6,q=k*6,H=t=>{const e=y.current[t];if(!e)return;let n=null;const s=1500,o=a=>{n||(n=a);const i=(a-n)/s;if(i>=1)return;const c=Math.pow(i,2)*5,m=(Math.random()-.5)*c,r=(Math.random()-.5)*c,d=(Math.random()-.5)*c*2;e.style.transform=`translate(calc(-50% + ${m}px), calc(-50% + ${r}px)) rotate(${d}deg)`,requestAnimationFrame(o)};requestAnimationFrame(o)},P=t=>{const e=F.current[t];if(!e)return;let n=null;const s=1500,o=t==="hour"?C:t==="minute"?S:q,a=i=>{n||(n=i);const c=(i-n)/s;if(c>=1)return;const m=Math.pow(c,2)*10,r=(Math.random()-.5)*m;e.style.transform=`rotate(${o+r}deg)`,requestAnimationFrame(a)};requestAnimationFrame(a)},K=t=>{const e=y.current[t];if(!e)return;let n=null;const s=3e3+Math.random()*2e3,o=Math.random()*1440-720,a=Math.random()*1440-720,i=Math.random()*1440-720,c=m=>{n||(n=m);const r=Math.min((m-n)/s,1),d=Math.sin(r*Math.PI)*20;e.style.transform=`translate(-50%, ${d+r*150}vh) rotateX(${o*r}deg) rotateY(${a*r}deg) rotateZ(${i*r}deg)`,e.style.opacity=1-r,r<1&&requestAnimationFrame(c)};requestAnimationFrame(c)},L=t=>{const e=F.current[t];if(!e)return;let n=null;const s=3e3+Math.random()*1e3,o=Math.random()*1440-720,a=Math.random()*1440-720,i=Math.random()*1440-720,c=m=>{n||(n=m);const r=Math.min((m-n)/s,1),d=Math.sin(r*Math.PI)*20;e.style.transform=`translate(-50%, ${d+r*150}vh) rotateX(${o*r}deg) rotateY(${a*r}deg) rotateZ(${i*r}deg)`,e.style.opacity=1-r,r<1&&requestAnimationFrame(c)};requestAnimationFrame(c)},N=()=>{const t=$.current;if(!t)return;const e=500,n=t.getBoundingClientRect();for(let s=0;s<e;s++){const o=document.createElement("div");Object.assign(o.style,{position:"fixed",width:"2px",height:"2px",background:"gold",borderRadius:"50%",left:`${n.left+n.width/2}px`,top:`${n.top+n.height/2}px`,pointerEvents:"none",zIndex:"1000"}),document.body.appendChild(o);const a=Math.random()*2*Math.PI,i=5+Math.random()*15,c=Math.random()*720,m=Math.random()*720,r=Math.random()*720,d=performance.now(),b=2e3+Math.random()*1e3,h=M=>{const l=Math.min((M-d)/b,1),x=Math.cos(a)*i*l*50,w=Math.sin(a)*i*l*50;o.style.transform=`translate(${x}px, ${w}px) rotateX(${c*l}deg) rotateY(${m*l}deg) rotateZ(${r*l}deg)`,o.style.opacity=1-l,l<1?requestAnimationFrame(h):o.remove()};requestAnimationFrame(h)}t.style.opacity="0"},W=()=>{[...y.current.filter(Boolean),...Object.values(F.current).filter(Boolean),$.current].filter(Boolean).forEach(e=>{const n=e.getBoundingClientRect(),s=window.innerWidth/2,o=window.innerHeight/2,a=Math.atan2(n.top-o,n.left-s),i=150+Math.random()*100;let c=null;const m=2e3+Math.random()*1e3,r=Math.random()*1440-720,d=Math.random()*1440-720,b=Math.random()*1440-720,h=M=>{c||(c=M);const l=Math.min((M-c)/m,1),x=1-Math.pow(1-l,3),w=Math.cos(a)*i*x,G=Math.sin(a)*i*x+l*150,J=e.style.transform||"";e.style.transform=`${J} translate(${w}vw, ${G}vh) rotateX(${r*l}deg) rotateY(${d*l}deg) rotateZ(${b*l}deg)`,e.style.opacity=1-l,l<1&&requestAnimationFrame(h)};requestAnimationFrame(h)})},j="90vmin";return p.jsx("div",{style:{width:"100vw",height:"100dvh",display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",fontFamily:"EntropyFont, monospace",perspective:"1500px",background:"radial-gradient(circle at center, #FF1500FF 0%, #631212 70%, #41025EFF 100%)",margin:0,padding:0},children:p.jsxs("div",{ref:B,style:{position:"relative",width:j,height:j,borderRadius:"50%",opacity:O?1:0,transition:"opacity 1s ease-in-out"},children:[[...Array(12).keys()].map(t=>{const n=(t/12*360-90)*Math.PI/180;return p.jsx("div",{ref:s=>y.current[t]=s,style:{position:"absolute",left:`calc(50% + ${40*Math.cos(n)}vmin)`,top:`calc(50% + ${40*Math.sin(n)}vmin)`,transform:"translate(-50%, -50%)",fontSize:"14vmin",fontWeight:"900",color:"#FFD700",textShadow:"0 0 2px #999fff, 0 0 6px #FFD700, 0 0 10px #FFD700, 0 0 20px #FFEA00",fontFamily:"EntropyFont, monospace",userSelect:"none"},children:t===0?12:t},t)}),p.jsx("div",{ref:$,style:{position:"absolute",width:"2vmin",height:"2vmin",backgroundColor:"gold",borderRadius:"50%",top:"50%",left:"50%",transform:"translate(-50%, -50%)",boxShadow:"0 0 20px #FFD700, 0 0 40px #FFD700, 0 0 60px #FFEA00",zIndex:10}}),["hour","minute","second"].map(t=>{const e=t==="hour"?C:t==="minute"?S:q,n=t==="hour"?"25vmin":t==="minute"?"35vmin":"45vmin",s=t==="hour"?"1.5vmin":t==="minute"?"1vmin":"0.5vmin",o=t==="second"?"#FF6347":"#FFD700",a=t==="second"?"0 0 6px #FF6347, 0 0 12px #FF6347":"0 0 6px #FFD700, 0 0 12px #FFD700, 0 0 20px #FFEA00";return p.jsx("div",{ref:i=>F.current[t]=i,style:{position:"absolute",width:s,height:n,backgroundColor:o,left:`calc(50% - ${parseFloat(s)/2}vmin)`,top:`calc(50% - ${parseFloat(n)}vmin)`,transformOrigin:"center bottom",transform:`rotate(${e}deg)`,borderRadius:"50%",boxShadow:a}},t)})]},A)})};export{V as default};
